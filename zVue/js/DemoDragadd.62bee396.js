(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DemoDragadd"],{cbb2:function(e,t,i){"use strict";i.r(t);var a=i("f2bf"),o={id:"DemoDragadd"},r=Object(a["h"])("div",{style:{"margin-left":"auto","margin-right":"15px"}},"拖拽式添加块状元素操作方式",-1);function h(e,t,i,h,d,s){var l=Object(a["A"])("goo-flow");return Object(a["t"])(),Object(a["g"])("div",o,[Object(a["k"])(l,{property:d.myProps,global:d.global,plugIns:d.plugIns,ref:"gooFlow"},{headerCustom:Object(a["H"])((function(){return[r]})),_:1},8,["property","global","plugIns"])])}var d=i("1fde"),s=i("4676"),l=i("02d1"),n=i("0c15"),p=i("f871"),c=i("6790"),g=i("e7cb"),u={flag:"dragadd",methods:{_initDragAddOper:function(){if(this.prop.$editable&&this.$refs.$tool){var e=this;Object(c["a"])(this.$refs.$tool.$el,"mousedown","li",{},(function(t,i){var a=i.getAttribute("type"),o=i.title;if(e.prop.$dragAddOper&&"cursor"!==a&&"multi"!==a&&!g["a"].isDrawingLine(a)){var r="",h=g["a"].getCoor(t,e.$refs.$workArea),d=e.prop.$nodeCustoms[a],s={width:104,height:26,type:a,title:null!=o&&""!==o?o:"--------",left:h.X,top:h.Y,canOver:!0};if(void 0!==d&&null!=d){d.width&&(s.width=d.width),d.height&&(s.height=d.height);var l='<i class="'+d["class"]+'" style="width:'+s.width+"px;height:"+s.height+'px;"></i>';r='<table cellspacing="0" style="width:'+s.width*e.scale+"px;height:"+s.height*e.scale+'px;margin:-1px"><tr><td class="ico">'+l+"</td></tr></table>"}else s.type.indexOf(" round")>-1?(s.width=26,s.height=26,s.title=""):s.type.indexOf(" rhomb")>0?(s.width=30,s.height=30,s.title=""):"group"===s.type?(s.width=200,s.height=100):"memo"===s.type?(s.width=140,s.height=54):r='<table cellspacing="1" style="width:'+(s.width*e.scale-2)+"px;height:"+(s.height*e.scale-2)+'px;"><tr><td class="ico"><i class="ico_'+s.type+'"></i></td><td><div>'+s.title+"</div></td></tr></table>";""===r&&(r='<table cellspacing="0" style="width:'+(s.width*e.scale-2)+"px;height:"+(s.height*e.scale-2)+'px;"><tr><td class="ico"><i class="ico_'+s.type+'"></i> '+s.title+"</td></tr></table>"),e.$refs.$ghost.setData("type",a),e.$refs.$ghost.html(r),e.$refs.$ghost.css({cursor:"move"}),e._bindMoveEvent(t,s,(function(t,i,a,o,r){if(i.$refs.$ghost.removeData("type"),!(o<0||r<0)&&t){if("group"===s.type){i.switchToolBtn("group");var h=["red","yellow","blue","green","milk"];i.addArea((new Date).getTime(),{name:i.prop.$areaPrefix+i.prop.$max,left:o/i.scale,top:r/i.scale,color:h[i.prop.$max%5],width:200,height:100})}else if("memo"===s.type)i.switchToolBtn("memo"),i.addMemo((new Date).getTime(),{text:"",left:o/i.scale,top:r/i.scale,width:140,height:54});else{i.switchToolBtn("cursor");var d=i.prop.$slotNodeRenders[s.type],l={name:i.prop.$nodePrefix+i.prop.$max,left:o/i.scale,top:r/i.scale,width:s.width,height:s.height,type:s.type};d&&(Object.assign(l,d.initInfo),l.width=d.minWidth,l.height=d.minHeight),e.addNode((new Date).getTime(),l)}i.prop.$max++}}),"move",s.width,s.height)}}))}}}},m=i("a10d"),w=i("bc3a"),f=i.n(w),b=i("abf2"),v={name:"DemoDragadd",components:{GooFlow:d["a"]},data:function(){return{myProps:{id:"aaaabbb",width:"900",height:"600",haveHead:!0,headLabel:!0,headBtns:["new","open","save","undo","redo","reload","print"],haveTool:!0,dragAddOper:!0,useOperStack:!0,haveMulti:!0,haveDirDashed:!0,haveSegment:!0,haveSegDashed:!0,toolBtns:["start round mix","end round","task","node","huber","router","plug2"],nodeCustoms:{huber:{class:"custom_huber",width:102,height:50},router:{class:"custom_router",width:115,height:52}},auth:b["a"]},global:s["a"],plugIns:[l["a"],n["a"],p["a"],u,m["a"]]}},mounted:function(){var e=this.$refs.gooFlow;f.a.get("./demo/data2.json",{},{headers:{"Content-Type":"application/json"}}).then((function(t){e.loadData(t.data)})),e.bindOperEvent({onPrintClick:function(){e.print()}})}},y=i("6b0d"),$=i.n(y);const x=$()(v,[["render",h]]);t["default"]=x}}]);